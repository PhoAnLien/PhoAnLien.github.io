<!DOCTYPE html>
<html lang="vi-VN">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>7. Tự xây dựng HTTP Server bằng Java Socket | Blog của Thành</title>
  <meta name="viewport" content="width=device-width,minimum-scale=1">
  <meta name="generator" content="Hugo 0.153.2">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
<link rel="stylesheet" href="/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  



  
  <link rel="stylesheet" href="/css/custom.css?v=1767079028950404300">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head><body class="ma0 avenir bg-near-white">
  


  
  
  
  <header class="cover bg-center" style="background-image: url('https://source.unsplash.com/random/800x600/?web,http');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Blog của Thành
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/" title="Trang chủ page">
              Trang chủ
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/posts/" title="Danh sách bài viết page">
              Danh sách bài viết
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="Giới thiệu &amp; Profile page">
              Giới thiệu &amp; Profile
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">7. Tự xây dựng HTTP Server bằng Java Socket</div>
          
        
      </div>
    </div>
  </header>




  <main class="pb7" role="main">
    



<article class="flex-l mw8 center ph3 flex-wrap justify-between animate-fade-in-up mt4">
    <header class="w-100 mb5">
        <div class="flex items-center mb3">
            <img src="/images/avatar.jpg" class="br-100 h3 w3 dib ba b--black-10 pa1 shadow-soft mr3"
                style="object-fit: cover;">
            <div>
                <div class="f6 ttu tracked text-primary b">posts</div>
                
                <time class="f7 gray">26/12/2024</time>
                
            </div>
        </div>

        


        <h1 class="f1 athelas mt0 mb3 dark-blue">7. Tự xây dựng HTTP Server bằng Java Socket</h1><div id="sharing" class="mt3 ananke-socials"></div>
</header>

    <div class="nested-copy-line-height lh-copy f4 nested-links mid-gray w-100 w-70-l pr4-l">
        <div class="post-content"><p>Chúng ta thường dùng Apache, Nginx hay Tomcat để chạy web. Nhưng bạn có bao giờ thắc mắc bên dưới chúng hoạt động thế nào không? Thực chất, Web Server cũng chỉ là một ứng dụng Socket Server giao tiếp theo chuẩn <strong>HTTP</strong> (HyperText Transfer Protocol).</p>
<h2 id="1-cấu-trúc-giao-thức-http">1. Cấu trúc giao thức HTTP</h2>
<p>HTTP là giao thức dựa trên văn bản (text-based).</p>
<h3 id="http-request-client-gửi-lên">HTTP Request (Client gửi lên)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>GET /index.html HTTP/1.1
</span></span><span style="display:flex;"><span>Host: localhost:8080
</span></span><span style="display:flex;"><span>User-Agent: Mozilla/5.0...
</span></span><span style="display:flex;"><span>(Dòng trống)
</span></span><span style="display:flex;"><span>(Body nếu có)
</span></span></code></pre></div><h3 id="http-response-server-trả-về">HTTP Response (Server trả về)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>HTTP/1.1 200 OK
</span></span><span style="display:flex;"><span>Content-Type: text/html
</span></span><span style="display:flex;"><span>Content-Length: 100
</span></span><span style="display:flex;"><span>(Dòng trống)
</span></span><span style="display:flex;"><span>&lt;html&gt;...&lt;/html&gt;
</span></span></code></pre></div><h2 id="2-xây-dựng-simplewebserver">2. Xây dựng SimpleWebServer</h2>
<p>Chúng ta sẽ viết một Server lắng nghe ở cổng 8080. Khi người dùng truy cập trình duyệt, Server sẽ trả về một trang HTML chào mừng.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.ServerSocket;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.net.Socket;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.Date;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SimpleWebServer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> IOException {
</span></span><span style="display:flex;"><span>        ServerSocket server <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ServerSocket(8080);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Web Server listening on port 8080...&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> (Socket socket <span style="color:#f92672">=</span> server.<span style="color:#a6e22e">accept</span>()) {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 1. Đọc Request (In ra console để xem)</span>
</span></span><span style="display:flex;"><span>                InputStreamReader isr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> InputStreamReader(socket.<span style="color:#a6e22e">getInputStream</span>());
</span></span><span style="display:flex;"><span>                BufferedReader reader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(isr);
</span></span><span style="display:flex;"><span>                String line <span style="color:#f92672">=</span> reader.<span style="color:#a6e22e">readLine</span>(); <span style="color:#75715e">// Chỉ đọc dòng đầu: GET / HTTP/1.1</span>
</span></span><span style="display:flex;"><span>                System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Request: &#34;</span> <span style="color:#f92672">+</span> line);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 2. Chuẩn bị nội dung trả về</span>
</span></span><span style="display:flex;"><span>                String html <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello from Java Web Server!&lt;/h1&gt;&lt;p&gt;Time: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">new</span> Date() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&#34;</span>;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 3. Gửi HTTP Response Header</span>
</span></span><span style="display:flex;"><span>                PrintWriter out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(socket.<span style="color:#a6e22e">getOutputStream</span>());
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;HTTP/1.1 200 OK&#34;</span>);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Content-Type: text/html; charset=UTF-8&#34;</span>);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Content-Length: &#34;</span> <span style="color:#f92672">+</span> html.<span style="color:#a6e22e">length</span>());
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(); <span style="color:#75715e">// Dòng trống bắt buộc phân cách Header và Body</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 4. Gửi Body (Nội dung HTML)</span>
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">println</span>(html);
</span></span><span style="display:flex;"><span>                out.<span style="color:#a6e22e">flush</span>(); <span style="color:#75715e">// Đẩy dữ liệu đi ngay lập tức</span>
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (IOException e) {
</span></span><span style="display:flex;"><span>                e.<span style="color:#a6e22e">printStackTrace</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="3-chạy-thử">3. Chạy thử</h2>
<ol>
<li>Chạy chương trình Java trên.</li>
<li>Mở trình duyệt truy cập <code>http://localhost:8080</code>.</li>
<li>Bạn sẽ thấy dòng chữ <strong>&ldquo;Hello from Java Web Server!&rdquo;</strong> cùng thời gian hiện tại.</li>
</ol>
<h2 id="4-bài-học-rút-ra">4. Bài học rút ra</h2>
<p>Mọi Web Server phức tạp đều bắt đầu từ nguyên lý này:</p>
<ol>
<li>Lắng nghe kết nối TCP (Socket).</li>
<li>Đọc và phân tích chuỗi văn bản theo quy chuẩn HTTP.</li>
<li>Xử lý logic (Route, Controller&hellip;).</li>
<li>Gửi lại chuỗi văn bản phản hồi.</li>
</ol>
<p>Hiểu điều này giúp bạn debug lỗi mạng tốt hơn khi làm việc với REST API sau này.</p>
</div><ul class="pa0">
  
   <li class="list di">
     <a href="/tags/java/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Java</a>
   </li>
  
   <li class="list di">
     <a href="/tags/http/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">HTTP</a>
   </li>
  
   <li class="list di">
     <a href="/tags/web-server/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Web Server</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
            
        </div>
    </div>

    
    <aside class="w-100 w-30-l mt4 mt0-l">

        <div class="mt4 tc">
            <a href="/posts/" class="f7 link gray hover-blue b ttu tracked">&larr; Quay lại danh sách</a>
        </div>
    </aside>
</article>

  </main>

  <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  © 2025 Bản quyền thuộc về Thành Phạm 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  

</body>

</html>