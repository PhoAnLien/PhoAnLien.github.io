<!DOCTYPE html>
<html lang="vi-VN">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>9. Bảo mật kết nối mạng: SSL/TLS Socket trong Java | Blog của Thành</title>
  <meta name="viewport" content="width=device-width,minimum-scale=1">
  <meta name="generator" content="Hugo 0.153.2">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
<link rel="stylesheet" href="/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  



  
  <link rel="stylesheet" href="/css/custom.css?v=1767079028950404300">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head><body class="ma0 avenir bg-near-white">
  


  
  
  
  <header class="cover bg-center" style="background-image: url('https://source.unsplash.com/random/800x600/?lock,security');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Blog của Thành
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/" title="Trang chủ page">
              Trang chủ
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/posts/" title="Danh sách bài viết page">
              Danh sách bài viết
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="Giới thiệu &amp; Profile page">
              Giới thiệu &amp; Profile
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">9. Bảo mật kết nối mạng: SSL/TLS Socket trong Java</div>
          
        
      </div>
    </div>
  </header>




  <main class="pb7" role="main">
    



<article class="flex-l mw8 center ph3 flex-wrap justify-between animate-fade-in-up mt4">
    <header class="w-100 mb5">
        <div class="flex items-center mb3">
            <img src="/images/avatar.jpg" class="br-100 h3 w3 dib ba b--black-10 pa1 shadow-soft mr3"
                style="object-fit: cover;">
            <div>
                <div class="f6 ttu tracked text-primary b">posts</div>
                
                <time class="f7 gray">28/12/2024</time>
                
            </div>
        </div>

        


        <h1 class="f1 athelas mt0 mb3 dark-blue">9. Bảo mật kết nối mạng: SSL/TLS Socket trong Java</h1><div id="sharing" class="mt3 ananke-socials"></div>
</header>

    <div class="nested-copy-line-height lh-copy f4 nested-links mid-gray w-100 w-70-l pr4-l">
        <div class="post-content"><p>Khi bạn gửi mật khẩu qua Socket thường, nó được truyền dưới dạng văn bản (Clear Text). Hacker ngồi ở giữa (Man-in-the-Middle) có thể đọc được tất cả. Để bảo mật, ta cần mã hóa đường truyền bằng <strong>SSL/TLS</strong>.</p>
<h2 id="1-ssltls-là-gì">1. SSL/TLS là gì?</h2>
<ul>
<li><strong>SSL (Secure Sockets Layer)</strong>: Công nghệ mã hóa cũ.</li>
<li><strong>TLS (Transport Layer Security)</strong>: Bản nâng cấp an toàn hơn của SSL.</li>
<li>Java cung cấp lớp <code>SSLSocket</code> và <code>SSLServerSocket</code> để hỗ trợ việc này.</li>
</ul>
<h2 id="2-quy-trình-mã-hóa">2. Quy trình mã hóa</h2>
<p>Để chạy được SSL, Server cần một &ldquo;Chứng minh thư&rdquo; kỹ thuật số gọi là <strong>Keystore</strong> (chứa Private Key và Public Certificate).</p>
<h3 id="tạo-keystore-dùng-lệnh-keytool">Tạo Keystore (Dùng lệnh keytool)</h3>
<p>Mở terminal và chạy lệnh sau để tạo một file chứng chỉ tự ký (Self-signed):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>keytool -genkey -keystore mykeystore.jks -keyalg RSA
</span></span></code></pre></div><p><em>(Nhập mật khẩu là &ldquo;password&rdquo; cho dễ nhớ)</em></p>
<h2 id="3-code-ssl-server">3. Code SSL Server</h2>
<p>Khác với Socket thường, ta cần nạp Keystore trước khi mở cổng.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.net.ssl.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.security.KeyStore;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecureServer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 1. Load Keystore</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span><span style="color:#f92672">[]</span> password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;password&#34;</span>.<span style="color:#a6e22e">toCharArray</span>();
</span></span><span style="display:flex;"><span>        KeyStore ks <span style="color:#f92672">=</span> KeyStore.<span style="color:#a6e22e">getInstance</span>(<span style="color:#e6db74">&#34;JKS&#34;</span>);
</span></span><span style="display:flex;"><span>        ks.<span style="color:#a6e22e">load</span>(<span style="color:#66d9ef">new</span> FileInputStream(<span style="color:#e6db74">&#34;mykeystore.jks&#34;</span>), password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 2. Tạo KeyManagerFactory</span>
</span></span><span style="display:flex;"><span>        KeyManagerFactory kmf <span style="color:#f92672">=</span> KeyManagerFactory.<span style="color:#a6e22e">getInstance</span>(<span style="color:#e6db74">&#34;SunX509&#34;</span>);
</span></span><span style="display:flex;"><span>        kmf.<span style="color:#a6e22e">init</span>(ks, password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 3. Khởi tạo SSLContext</span>
</span></span><span style="display:flex;"><span>        SSLContext sslContext <span style="color:#f92672">=</span> SSLContext.<span style="color:#a6e22e">getInstance</span>(<span style="color:#e6db74">&#34;TLS&#34;</span>);
</span></span><span style="display:flex;"><span>        sslContext.<span style="color:#a6e22e">init</span>(kmf.<span style="color:#a6e22e">getKeyManagers</span>(), <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 4. Tạo SSLServerSocket</span>
</span></span><span style="display:flex;"><span>        SSLServerSocketFactory ssf <span style="color:#f92672">=</span> sslContext.<span style="color:#a6e22e">getServerSocketFactory</span>();
</span></span><span style="display:flex;"><span>        SSLServerSocket serverSocket <span style="color:#f92672">=</span> (SSLServerSocket) ssf.<span style="color:#a6e22e">createServerSocket</span>(8443);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Secure Server listening on port 8443...&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 5. Chấp nhận kết nối như bình thường</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#66d9ef">true</span>) {
</span></span><span style="display:flex;"><span>            SSLSocket socket <span style="color:#f92672">=</span> (SSLSocket) serverSocket.<span style="color:#a6e22e">accept</span>();
</span></span><span style="display:flex;"><span>            PrintWriter out <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PrintWriter(socket.<span style="color:#a6e22e">getOutputStream</span>(), <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>            out.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Hello Secure World!&#34;</span>);
</span></span><span style="display:flex;"><span>            socket.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="4-code-ssl-client">4. Code SSL Client</h2>
<p>Client cần tin tưởng chứng chỉ của Server (TrustStore). Trong môi trường Develop, ta thường dùng cờ buộc tin tưởng tất cả (Trust All) hoặc import chứng chỉ vào Java TrustStore.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import</span> javax.net.ssl.*;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.io.*;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SecureClient</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(String<span style="color:#f92672">[]</span> args) <span style="color:#66d9ef">throws</span> Exception {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Để đơn giản demo, ta dùng socket factory mặc định</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// (Lưu ý trong thực tế cần cấu hình TrustStore nếu dùng Self-signed Cert)</span>
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setProperty</span>(<span style="color:#e6db74">&#34;javax.net.ssl.trustStore&#34;</span>, <span style="color:#e6db74">&#34;mykeystore.jks&#34;</span>);
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">setProperty</span>(<span style="color:#e6db74">&#34;javax.net.ssl.trustStorePassword&#34;</span>, <span style="color:#e6db74">&#34;password&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        SSLSocketFactory ssf <span style="color:#f92672">=</span> (SSLSocketFactory) SSLSocketFactory.<span style="color:#a6e22e">getDefault</span>();
</span></span><span style="display:flex;"><span>        SSLSocket socket <span style="color:#f92672">=</span> (SSLSocket) ssf.<span style="color:#a6e22e">createSocket</span>(<span style="color:#e6db74">&#34;localhost&#34;</span>, 8443);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        BufferedReader in <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader(<span style="color:#66d9ef">new</span> InputStreamReader(socket.<span style="color:#a6e22e">getInputStream</span>()));
</span></span><span style="display:flex;"><span>        System.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Server nói: &#34;</span> <span style="color:#f92672">+</span> in.<span style="color:#a6e22e">readLine</span>());
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        socket.<span style="color:#a6e22e">close</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="5-kết-luận">5. Kết luận</h2>
<p>Bảo mật không phải là tính năng &ldquo;có cho vui&rdquo;, nó là yêu cầu bắt buộc. Với Java <code>SSLSocket</code>, bạn có thể nâng cấp bất kỳ ứng dụng Chat/Game nào của mình lên chuẩn bảo mật công nghiệp, đảm bảo dữ liệu người dùng luôn an toàn.</p>
</div><ul class="pa0">
  
   <li class="list di">
     <a href="/tags/java/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Java</a>
   </li>
  
   <li class="list di">
     <a href="/tags/security/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Security</a>
   </li>
  
   <li class="list di">
     <a href="/tags/ssl/" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">SSL</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
            
        </div>
    </div>

    
    <aside class="w-100 w-30-l mt4 mt0-l">

        <div class="mt4 tc">
            <a href="/posts/" class="f7 link gray hover-blue b ttu tracked">&larr; Quay lại danh sách</a>
        </div>
    </aside>
</article>

  </main>

  <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://localhost:1313/" >
    &copy;  © 2025 Bản quyền thuộc về Thành Phạm 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  

</body>

</html>